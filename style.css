/* RESET */
* { box-sizing: border-box; }
html, body { height: 100%; }

body{
  margin: 0;
  display: grid;
  place-items: center;
  background: #000;
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial;
}

/* APP FRAME */
.app{
  width: min(100vw, 393px);
  height: min(100svh, 852px);
  position: relative;
  overflow: hidden;
  background: url("assets/ui/bg.png") center / 100% 100% no-repeat;

  /* ---- Figma layout variables ---- */
  --reel-top: 286px;
  --reel-h: 280px;

  --hud-gap: 32px;
  --hud-h: 48px;
  --hud-w: 360px;

  --controls-gap: 32px;
  --controls-w: 205px;
  --controls-h: 110px;
}

/* -------------------------
   REELS (LOGIC OVERLAY ONLY)
-------------------------- */
.reel-area{
  position: absolute;
  top: var(--reel-top);
  left: 0;
  width: 393px;
  height: var(--reel-h);
  display: grid;
  place-items: center;
  pointer-events: none;
}

.reel-mask{
  width: 393px;
  height: var(--reel-h);
  overflow: hidden;
  display: grid;
  place-items: center;
}

/* Divider-aligned columns: 123 / 143 / 127 */
.reels{
  width: 393px;
  height: var(--reel-h);
  display: grid;
  grid-template-columns: 123px 143px 127px;
  column-gap: 0;
  justify-items: center;
  align-items: center;
}

.reel{
  width: 90px;
  height: 210px;
  position: relative;
  overflow: hidden;
}

.strip{
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  gap: 0;
  will-change: transform;
}

.cell{
  height: var(--cell-h, 70px);
  flex: 0 0 var(--cell-h, 70px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  margin: 0;
}

.symbol{
  height: 100%;
  width: 100%;
  object-fit: contain;
  transform: scale(1.25); /* tweak 1.15â€“1.35 if needed */
  user-select: none;
  -webkit-user-drag: none;
  pointer-events: none;
}

/* -------------------------
   HUD
-------------------------- */
.hud{
  position: absolute;
  top: calc(var(--reel-top) + var(--reel-h) + var(--hud-gap));
  left: 50%;
  transform: translateX(-50%);
  width: var(--hud-w);
  height: var(--hud-h);
}

.hud-skin{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  pointer-events: none;
  user-select: none;
  -webkit-user-drag: none;
}

.hud-text{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 15px;
  font-weight: 500;
  color: #fff;
  white-space: nowrap;
}

.hud-balance{ left: 44px; }
.hud-bet{ right: 44px; text-align: right; }

/* -------------------------
   CONTROLS
-------------------------- */
.controls-panel{
  position: absolute;
  top: calc(
    var(--reel-top) + var(--reel-h) + var(--hud-gap) + var(--hud-h) + var(--controls-gap)
  );
  left: 50%;
  transform: translateX(-50%);
  width: var(--controls-w);
  height: var(--controls-h);
}

.controls-skin{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  user-select: none;
  -webkit-user-drag: none;
}

/* HIT AREAS */
.hit{
  position: absolute;
  border: none;
  background: transparent;
  padding: 0;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.hit-reset{ left: 6%;  top: 28%; width: 18%; height: 44%; }
.hit-spin { left: 36%; top: 5%;  width: 28%; height: 90%; }
.hit-minus{ left: 70%; top: 18%; width: 22%; height: 28%; }
.hit-plus { left: 70%; top: 54%; width: 22%; height: 28%; }

.hit:active{ transform: scale(0.97); }

/* -------------------------
   WIN OVERLAY (FULL-FRAME MP4)
-------------------------- */
.win-overlay{
  position: absolute;
  inset: 0;
  z-index: 999;
  display: none;
}

.win-overlay.is-open{
  display: block;
}

.win-overlay video{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.win-close{
  position: absolute;
  inset: 0;
  border: none;
  background: transparent;
  cursor: pointer;
}

/* =========================
   MOTION BLUR (SPINNING)
========================= */

/* Base state */
.reel .strip{
  filter: blur(0);
  transform-origin: center;
}

/* While spinning */
.reel.spinning .strip{
  filter: blur(1.5px);
}

/* Slight easing out as it stops */
.reel.stopping .strip{
  filter: blur(1px);
  transition: filter 180ms ease-out;
}

/* =========================
   WIN HIGHLIGHT (SYMBOL)
========================= */
.cell.win{
  position: relative;
}

.cell.win::after{
  content: "";
  position: absolute;
  inset: 6%;
  border-radius: 12px;

  border: 3px solid #FFD84A;
  box-shadow:
    0 0 10px rgba(255, 216, 74, 0.8),
    0 0 18px rgba(255, 216, 74, 0.6);

  pointer-events: none;
}

/* Optional subtle pulse */
@keyframes winPulse{
  0%   { box-shadow: 0 0 8px rgba(255,216,74,.6); }
  50%  { box-shadow: 0 0 18px rgba(255,216,74,1); }
  100% { box-shadow: 0 0 8px rgba(255,216,74,.6); }
}

.cell.win::after{
  animation: winPulse 1.2s ease-in-out infinite;
}

